# gcc编译指令
#### --为了在vsc中加编译指令
对于GUN编译器来说,程序的编译分为四个步骤
**1.** 预编译  此时执行#ifdef #include #dedine命令,得到.i中间文件
**2.** 编译  输入中间文件编译后生成汇编语言文件.s
**3.** 汇编 输入汇编文件转换成机器代码文件.o
**4.** 链接 (与其他机器代码文件和库文件)汇集为二进制可执行文件
***********
## 编译基本语句

```cmd
gcc  ---编译完全(.*-->.out)
```
选项:
```
-E   只做预编译(.c-->.i)
-S   生成到汇编语言文件(.*-->.s)
-c   生成到机器代码文件(.*-->.o)

```
*******
## 进阶选项

```
-g   生成带调试信息的目标代码,供调试器使用(debug必用)(默认给gdb,其他调试器用-gformat指定)
-o <outfile>  指定输出文件文件名
-s 剥去可执行文件中的符号表和重定位信息(减小可执行文件的大小)
-C   预编译时不删除注释信息(配合-E)
```

```
-O 使用优化级别1编译,还可显式写值1~3,数值越大优化越强,时间越长,不写该选项默认为 -O0(无优化)
-O1   优化可执行文件的大小和执行时间,且不会用很长时间,但文件大时,内存占用大
-O2   包含O1的优化,增加不需要增加文件大小和执行时长的优化.不执行循环展开/函数内联(即不以空间换时间),会增加编译时间和文件性能
-Os 执行不增加文件大小的-O2优化,并执行专门用于健胸啊目标文件大小的优化
-O3 打开所有-O2优化选项且增加 -finline-functions, -funswitch-loops, -fpredictive-commoning, -fgcse-after-reload和-ftree-vectorize优化选项.
```
```
-shared 生成共享目标文件(用于建立共享链接库)
```
```
-w 禁止显示任何警告消息
-Wall 显示全部警告消息
-Wshadow 当局部变量遮盖其他变量时警告(-Wall不会打开)
-Wpointer-arith  对函数指针或者void*类指针进行算数操作时发出警告(-Wall不打开)
-Werror 把警告当错误
-Wunreachable-code  探测到永不执行的代码时发出警告
-Wredundant-decls 同一作用域内某定义多次声明是警告(就是无意义的声明)
-pedantic  对不符合 ANSI/ISO C标准且为标准所要求诊断之处发出警告
```
```
-m 生成文件关联的信息，包含目标文件所依赖的所有源代码

   与-m类似的有：

-mm忽略由#include <file>造成的依赖关系；

-md将输出导入到.d的文件里；

-mmd忽略由#include <file>造成的依赖关系，并将输出导入到.d的文件里
```
```
-v 显示链接过程中编译器调用的程序
gcc编译链接生成执行文件时，自动把该文件代码作为第一个模块链接在可执行程序中
```
```
--help gcc帮助
--target-help 显示目标机器待定命令行选项
--version 显示gcc版本版权
```